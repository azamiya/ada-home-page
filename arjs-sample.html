<!doctype HTML>
<html>
<script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.5.0/aframe/build/aframe-ar.js"> </script>
  <body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded arjs>
    <a-marker preset="hiro">
      <a-box position='0 0.5 0' material='color: black;'></a-box>
    </a-marker>
    <a-entity camera></a-entity>
    </a-scene>
    <script>
      console.log("hello script")
      document.addEventListener("DOMContentLoaded", () => {
        console.log("DOM fully loaded and parsed");
        bodyEl = document.querySelector("body");

        bodyEl.addEventListener("click", () => {
          const video = document.querySelector('video')

          console.log(video)
          console.log("body clicked")

          const imgEl = document.createElement('img');

          let context;
          const width = video.offsetWidth;
          const height = video.offsetHeight;

          let canvas = document.createElement('canvas');
          canvas.width = width;
          canvas.height = height;

          context = canvas.getContext('2d');
          context.drawImage(video, 0, 0, width, height);

          imgEl.src = canvas.toDataURL('image/png');
          document.body.appendChild(imgEl);
        })
        
      });
    </script>
  </body>
</html>